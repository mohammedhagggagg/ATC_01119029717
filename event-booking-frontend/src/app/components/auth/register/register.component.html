<section class="py-5">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-lg-8">
          <div class="text-center mb-4">
            <h2 class="fw-bold text-primary">Register</h2>
            <p id="pargraph" class="text-muted">
                Join us to book your favorite events with ease and security
            </p>
          </div>
  
          <div *ngIf="errorMessage" class="alert alert-danger text-center">
            {{ errorMessage }}
          </div>
  
          <form [formGroup]="RegisterForm" (ngSubmit)="onSubmit()">
            <div class="row g-3">
              <div class="col-md-6">
                <label for="displayName" class="form-label">Display Name*</label>
                <input
                  id="displayName"
                  type="text"
                  class="form-control"
                  formControlName="displayName"
                  placeholder="Enter Display Name"
                  [ngClass]="{
                    'is-invalid':
                      f['displayName'].invalid && f['displayName'].touched
                  }"
                />
                <div class="invalid-feedback" *ngIf="f['displayName'].touched">
                  Display Name is required.
                </div>
              </div>
  
              <div class="col-md-6">
                <label for="userName" class="form-label">User Name*</label>
                <input
                  id="userName"
                  type="text"
                  class="form-control"
                  formControlName="userName"
                  placeholder="Enter your User name"
                  [ngClass]="{
                    'is-invalid': f['userName'].invalid && f['userName'].touched
                  }"
                />
                <div class="invalid-feedback" *ngIf="f['userName'].touched">
                  <div *ngIf="f['userName'].errors?.['required']">
                    User Name is required.
                  </div>
                  <div *ngIf="f['userName'].errors?.['pattern']">
                    User Name can't contain white spaces.
                  </div>
                </div>
              </div>
  
              <div class="col-md-6">
                <label for="email" class="form-label">Email*</label>
                <input
                  id="email"
                  type="email"
                  class="form-control"
                  formControlName="email"
                  placeholder="Enter your Email"
                  [ngClass]="{
                    'is-invalid': f['email'].invalid && f['email'].touched
                  }"
                />
                <div class="invalid-feedback" *ngIf="f['email'].touched">
                  <div *ngIf="f['email'].errors?.['required']">
                    Email is required.
                  </div>
                  <div *ngIf="f['email'].errors?.['email']">
                    Please enter a valid email address.
                  </div>
                </div>
              </div>
  
              <div class="col-md-6">
                <label for="phoneNumber" class="form-label">Phone Number*</label>
                <input
                  id="phoneNumber"
                  type="text"
                  class="form-control"
                  formControlName="phoneNumber"
                  placeholder="Enter your phone number"
                  [ngClass]="{
                    'is-invalid':
                      f['phoneNumber'].invalid && f['phoneNumber'].touched
                  }"
                />
                <div class="invalid-feedback" *ngIf="f['phoneNumber'].touched">
                  <div *ngIf="f['phoneNumber'].errors?.['required']">
                    Phone Number is required.
                  </div>
                  <div *ngIf="f['phoneNumber'].errors?.['pattern']">
                    Phone Number must be 11 digits.
                  </div>
                </div>
              </div>
  
              <div class="col-md-6">
                <label for="password" class="form-label">Password*</label>
                <div class="input-group">
                  <input
                    id="password"
                    type="{{ passwordVisible ? 'text' : 'password' }}"
                    class="form-control"
                    formControlName="password"
                    placeholder="Enter your Password"
                    [ngClass]="{
                      'is-invalid': f['password'].invalid && f['password'].touched
                    }"
                  />
                  <button
                    class="btn btn-outline-secondary"
                    type="button"
                    (click)="togglePasswordVisibility()"
                  >
                    <i
                      class="fas"
                      [ngClass]="passwordVisible ? 'fa-eye' : 'fa-eye-slash'"
                    ></i>
                  </button>
                  <div class="invalid-feedback" *ngIf="f['password'].touched">
                    <div *ngIf="f['password'].errors?.['required']">
                      Password is required.
                    </div>
                    <div *ngIf="f['password'].errors?.['minlength']">
                      Password must be at least 8 characters.
                    </div>
                    <div *ngIf="f['password'].errors?.['passwordStrength']">
                      Must contain lowercase, uppercase, digit & special char.
                    </div>
                  </div>
                </div>
              </div>
  
              <div class="col-md-6">
                <label for="confirmPassword" class="form-label"
                  >Confirm Password*</label
                >
                <div class="input-group">
                  <input
                    id="confirmPassword"
                    type="{{ confirmPasswordVisible ? 'text' : 'password' }}"
                    class="form-control"
                    formControlName="confirmPassword"
                    placeholder="Confirm your Password"
                    [ngClass]="{
                      'is-invalid':
                        (f['confirmPassword'].invalid &&
                          f['confirmPassword'].touched) ||
                        RegisterForm.hasError('passwordMismatch')
                    }"
                  />
                  <button
                    class="btn btn-outline-secondary"
                    type="button"
                    (click)="toggleConfirmPasswordVisibility()"
                  >
                    <i
                      class="fas"
                      [ngClass]="
                        confirmPasswordVisible ? 'fa-eye' : 'fa-eye-slash'
                      "
                    ></i>
                  </button>
                  <div
                    class="invalid-feedback"
                    *ngIf="f['confirmPassword'].touched"
                  >
                    <div *ngIf="f['confirmPassword'].errors?.['required']">
                      Confirm Password is required.
                    </div>
                    <div *ngIf="RegisterForm.hasError('passwordMismatch')">
                      Passwords don't match.
                    </div>
                  </div>
                </div>
              </div>
            </div>
  
            <div class="mt-4">
              <button class="btn btn-primary w-100" type="submit">
                <span *ngIf="isLoading">
                  <i class="fas fa-spinner fa-spin"></i>
                </span>
                <span *ngIf="!isLoading">Register</span>
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </section>
  
